define(module,function(e,t){var n=t("qp-utility"),r=t("Vue"),o=t("Vuex"),a=t("VueRouter");n.module(e,{ns:"qp-vue",create:function(e){if(n.is(e.render,"string")){var t=e.render;e.render=function(e){return e(t)}}e.store&&(e.created=function(){this.$store.dispatch("initialise")}),this.create_store_route(e.store,e.router);var o=new r(e);n.ready(function(){o.$mount("#main")})},use:function(e){r.use(e)},make:function(t){var r=t.ns;return t.computed&&(t.computed.map_getters&&n.assign(t.computed,o.mapGetters(n.delete_key(t.computed,"map_getters",{}))),t.computed.map_state&&n.assign(t.computed,o.mapState(n.delete_key(t.computed,"map_state",{})))),t.methods&&(t.methods.map_actions&&(n.assign(t.methods,o.mapActions(n.delete_key(t.methods,"map_actions",{}))),debug(t.methods)),t.methods.map_mutations&&n.assign(t.methods,o.mapMutations(n.delete_key(t.methods,"map_mutations",{})))),e(r,this.extend(t))},extend:function(e){return e.name=n.split(e.ns,"/").pop(),n.assign(e,t(e.ns+"/template")),r.extend(e)},store:function(t){return r.use(o),e(t.ns,new o.Store(t))},router:function(e){return r.use(a),new a(n.options(e,{mode:"history"}))},create_store_route:function(e,t){if(e&&t){var n=!1,r=null;e.registerModule("route",{namespaced:!0,state:u(t.currentRoute),mutations:{route_changed:(t,n)=>e.state.route=u(n.to,n.from)}});var o=e.watch(e=>e.route,e=>{var o=e.fullPath;o!==r&&(null!=r&&(n=!0,t.push(e)),r=o)},{sync:!0}),a=t.afterEach((t,o)=>{n?n=!1:(r=t.fullPath,e.commit("route/route_changed",{to:t,from:o}))});function u(e,t){var n={name:e.name,path:e.path,hash:e.hash,query:e.query,params:e.params,fullPath:e.fullPath,meta:e.meta};return t&&(n.from=u(t)),Object.freeze(n)}function s(){a&&a(),o&&o(),e.unregisterModule("route")}}}})});