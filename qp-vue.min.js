define(module,function(e,t){var n=t("qp-utility"),s=t("Vue"),a=t("Vuex"),o=t("VueRouter");n.module(e,{ns:"qp-vue",create:function(e){if(n.is(e.render,"string")){var t=e.render;e.render=function(e){return e(t)}}e.store&&(e.created=function(){this.$store.dispatch("initialise")});var a=new s(e);n.ready(function(){a.$mount("#main")})},use:function(e){s.use(e)},extend:function(o){o.computed&&(o.computed.map_getters&&n.assign(o.computed,a.mapGetters(n.delete_key(o.computed,"map_getters",{}))),o.computed.map_state&&n.assign(o.computed,a.mapState(n.delete_key(o.computed,"map_state",{})))),o.methods&&(o.methods.map_actions&&n.assign(o.methods,a.mapActions(n.delete_key(o.methods,"map_actions",{}))),o.methods.map_mutations&&n.assign(o.methods,a.mapMutations(n.delete_key(o.methods,"map_mutations",{})))),n.assign(o,n.pick(t(o.ns+"/template"),"render","staticRenderFns"));var r=s.extend(o);return r.options.name=n.split(o.ns,"/").pop(),e(o.ns,r)},store:function(t){return s.use(a),n.each(n.delete_key(t,"mixins"),e=>{n.assign(t.state,e.state),n.assign(t.getters,e.getters),n.assign(t.mutations,e.mutations),n.assign(t.actions,e.actions)}),e(t.ns,new a.Store(t))},router:function(e){return s.use(o),new o(n.options(e,{mode:"history"}))},create_store_route:function(e,t){if(e&&t){var n=!1,s=null;e.registerModule("route",{namespaced:!0,state:r(t.currentRoute),mutations:{route_changed:(t,n)=>e.state.route=r(n.to,n.from)}});var a=e.watch(e=>e.route,e=>{var a=e.fullPath;a!==s&&(null!=s&&(n=!0,t.push(e)),s=a)},{sync:!0}),o=t.afterEach((t,a)=>{n?n=!1:(s=t.fullPath,e.commit("route/route_changed",{to:t,from:a}))});function r(e,t){var n={name:e.name,path:e.path,hash:e.hash,query:e.query,params:e.params,fullPath:e.fullPath,meta:e.meta};return t&&(n.from=r(t)),Object.freeze(n)}function u(){o&&o(),a&&a(),e.unregisterModule("route")}}}})});