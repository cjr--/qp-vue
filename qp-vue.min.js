define(module,function(e,t){var n=t("qp-utility"),a=t("Vue"),s=t("Vuex"),o=t("VueRouter");n.module(e,{ns:"qp-vue",create:function(e){if(n.is(e.render,"string")){var t=e.render;e.render=function(e){return e(t)}}var s=new a(e);n.ready(function(){s.$mount("#main"),s.$store.dispatch("initialise")})},use:function(e){a.use(e)},extend:function(o){o.computed&&(o.computed.map_getters&&n.assign(o.computed,s.mapGetters(n.delete_key(o.computed,"map_getters",{}))),o.computed.map_state&&n.assign(o.computed,s.mapState(n.delete_key(o.computed,"map_state",{})))),o.methods&&(o.methods.map_actions&&n.assign(o.methods,s.mapActions(n.delete_key(o.methods,"map_actions",{}))),o.methods.map_mutations&&n.assign(o.methods,s.mapMutations(n.delete_key(o.methods,"map_mutations",{})))),n.assign(o,n.pick(t(o.ns+"/template"),"render","staticRenderFns"));var r=a.extend(o);return r.options.name=n.split(o.ns,"/").pop(),e(o.ns,r)},store:function(t){return a.use(s),n.each(n.delete_key(t,"mixins"),e=>{n.assign(t.state,e.state),n.assign(t.getters,e.getters),n.assign(t.mutations,e.mutations),n.assign(t.actions,e.actions)}),e(t.ns,new s.Store(t))},router:function(e){return a.use(o),new o(n.options(e,{mode:"history"}))},create_store_route:function(e,t){if(e&&t){var n=!1,a=null;e.registerModule("route",{namespaced:!0,state:r(t.currentRoute),mutations:{route_changed:(t,n)=>e.state.route=r(n.to,n.from)}});var s=e.watch(e=>e.route,e=>{var s=e.fullPath;s!==a&&(null!=a&&(n=!0,t.push(e)),a=s)},{sync:!0}),o=t.afterEach((t,s)=>{n?n=!1:(a=t.fullPath,e.commit("route/route_changed",{to:t,from:s}))});function r(e,t){var n={name:e.name,path:e.path,hash:e.hash,query:e.query,params:e.params,fullPath:e.fullPath,meta:e.meta};return t&&(n.from=r(t)),Object.freeze(n)}function u(){o&&o(),s&&s(),e.unregisterModule("route")}}}})});