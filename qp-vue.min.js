define(module,function(e,t){var n=t("qp-utility"),r=t("Vue"),a=t("Vuex"),o=t("VueRouter");n.module(e,{ns:"qp-vue",create:function(e){if(n.is(e.render,"string")){var t=e.render;e.render=function(e){return e(t)}}e.store&&(e.created=function(){this.$store.dispatch("initialise")}),this.create_store_route(e.store,e.router);var a=new r(e);n.ready(function(){a.$mount("#main")})},use:function(e){r.use(e)},extend:function(o){o.computed&&(o.computed.map_getters&&n.assign(o.computed,a.mapGetters(n.delete_key(o.computed,"map_getters",{}))),o.computed.map_state&&n.assign(o.computed,a.mapState(n.delete_key(o.computed,"map_state",{})))),o.methods&&(o.methods.map_actions&&n.assign(o.methods,a.mapActions(n.delete_key(o.methods,"map_actions",{}))),o.methods.map_mutations&&n.assign(o.methods,a.mapMutations(n.delete_key(o.methods,"map_mutations",{})))),n.assign(o,n.pick(t(o.ns+"/template"),"render","staticRenderFns"));var s=r.extend(o);return s.tag_name=n.split(o.ns,"/").pop(),e(o.ns,s)},store:function(t){return r.use(a),e(t.ns,new a.Store(t))},router:function(e){return r.use(o),new o(n.options(e,{mode:"history"}))},create_store_route:function(e,t){if(e&&t){var n=!1,r=null;e.registerModule("route",{namespaced:!0,state:s(t.currentRoute),mutations:{route_changed:(t,n)=>e.state.route=s(n.to,n.from)}});var a=e.watch(e=>e.route,e=>{var a=e.fullPath;a!==r&&(null!=r&&(n=!0,t.push(e)),r=a)},{sync:!0}),o=t.afterEach((t,a)=>{n?n=!1:(r=t.fullPath,e.commit("route/route_changed",{to:t,from:a}))});function s(e,t){var n={name:e.name,path:e.path,hash:e.hash,query:e.query,params:e.params,fullPath:e.fullPath,meta:e.meta};return t&&(n.from=s(t)),Object.freeze(n)}function u(){o&&o(),a&&a(),e.unregisterModule("route")}}}})});