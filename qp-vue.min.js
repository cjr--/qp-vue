define(module,function(e,t){var s=t("qp-utility"),n=t("Vue"),a=t("Vuex"),r=t("VueRouter");s.module(e,{ns:"qp-vue",create:function(e){if(s.is(e.render,"string")){var t=e.render;e.render=function(e){return e(t)}}this.create_store_route(e.store,e.router);var a=new n(e);s.ready(function(){a.$mount("#main"),a.$store.dispatch("initialise")})},use:function(e){n.use(e)},extend:function(r){r.computed&&(r.computed.map_getters&&s.assign(r.computed,a.mapGetters(s.delete_key(r.computed,"map_getters",{}))),r.computed.map_state&&s.assign(r.computed,a.mapState(s.delete_key(r.computed,"map_state",{})))),r.methods&&(r.methods.map_actions&&s.assign(r.methods,a.mapActions(s.delete_key(r.methods,"map_actions",{}))),r.methods.map_mutations&&s.assign(r.methods,a.mapMutations(s.delete_key(r.methods,"map_mutations",{})))),s.assign(r,s.pick(t(r.ns+"/template"),"render","staticRenderFns"));var o=n.extend(r);return o.options.name=s.split(r.ns,"/").pop(),e(r.ns,o)},store:function(t){return n.use(a),s.each(s.delete_key(t,"mixins"),e=>{s.assign(t.state,e.state),s.assign(t.getters,e.getters),s.assign(t.mutations,e.mutations),s.assign(t.actions,e.actions)}),e(t.ns,new a.Store(t))},router:function(t){return n.use(r),e(t.ns,new r({mode:"history",routes:t.routes}))},create_store_route:function(e,t){if(e&&t){var s=!1,n=null;e.registerModule("route",{namespaced:!0,state:o(t.currentRoute),mutations:{route_changed:(t,s)=>e.state.route=o(s.to,s.from)}});var a=e.watch(e=>e.route,e=>{var a=e.fullPath;a!==n&&(null!=n&&(s=!0,t.push(e)),n=a)},{sync:!0}),r=t.afterEach((t,a)=>{s?s=!1:(n=t.fullPath,e.commit("route/route_changed",{to:t,from:a}))});function o(e,t){var s={name:e.name,path:e.path,hash:e.hash,query:e.query,params:e.params,fullPath:e.fullPath,meta:e.meta};return t&&(s.from=o(t)),Object.freeze(s)}function u(){r&&r(),a&&a(),e.unregisterModule("route")}}}})});